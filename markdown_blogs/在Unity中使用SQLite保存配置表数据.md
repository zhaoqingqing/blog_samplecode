## 在Unity中使用sqlite

如果你是在Unity/Mono中使用sqlite，那么打开Unity的安装目录，找到以下文件，拷贝到项目的Plugins目录下

Sqlite3.dll

Mono.Data.Sqlite.dll

Mono.Data.SqliteClient.dll



## sqlite的优点

### 提高游戏的启动速度

在游戏启动时，不需要去加载配置文件，而是在用到时，才从sqlite中读取，大大提高启动速度。



## 使用SQLite要解决的问题

比如一张很大的数据表，查询一条数据之后，是否整张表的数据都载入内存中？

根据以往使用csv或lua做为配置文件的经验，只要使用到了表中的一条数据，则整张表的数据都截入到了内存中

对于某个界面或者某个玩法才会用到的数据表，能否在关闭/离开时，释放掉配置占用的内存？



## 我的经验分享

### 把配置表分成多个db

经实测在移动设备或模拟器上执行Update/Create Table等SQL语句，性能非常差，执行一次热更新SQL约需要15s而直接下载并替换db则会快很多，所以我推荐直接替换db文件。

因为当有数据更新时是替换ab，建议把经常修改的配置表放在一个db中，不常修改的放另一个db，也就是把数据存在多个db中

根据我从业三个rpg游戏项目的经验，最常修改的部分有：

1. 语言包
2. 任务表
3. 道具表(装备，物品等等这些)
4. 新手引导
5. 自宝义配置表(key/value形式的表)
6. 活动表（充值/节日/节日活动表，部分数据放配置，部分配置协议下发）

